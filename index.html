<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>อัพโหลดคลิปเพื่อลบลายน้ำ/ตัวหนังสือ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body { font-family: sans-serif; background: #f4f4f4; padding: 40px; }
    .container { max-width: 500px; margin: auto; background: #fff; padding: 30px; border-radius: 12px; box-shadow: 0 2px 8px #0002; }
    input[type="file"] { margin-bottom: 15px; }
    label { font-weight: bold; }
    .preview { margin-top: 20px; }
    button { padding: 10px 24px; background: #0061a8; color: #fff; border: none; border-radius: 8px; font-size: 1rem; cursor: pointer; }
    button:disabled { background: #aaa; }
  </style>
</head>
<body>
  <div class="container">
    <h2>อัพโหลดคลิปเพื่อลบลายน้ำ/ตัวหนังสือ</h2>
    <form id="uploadForm">
      <label>เลือกไฟล์วิดีโอ:</label><br>
      <input type="file" id="videoFile" name="videoFile" accept="video/*" required><br><br>

      <label>ข้อความที่ต้องการลบออกจากคลิป (เช่น ลายน้ำ):</label><br>
      <input type="text" id="textToRemove" name="textToRemove" placeholder="พิมพ์ข้อความ" required style="width:100%; padding:8px; border-radius:6px; border:1px solid #ccc"><br><br>

      <button type="submit">อัพโหลดและประมวลผล</button>
    </form>
    <div class="preview" id="preview"></div>
  </div>



  
  

  <script>
    const form = document.getElementById('uploadForm');
    const preview = document.getElementById('preview');

    form.onsubmit = async (e) => {
      e.preventDefault();
      preview.innerHTML = 'กำลังอัพโหลดและประมวลผล...';

      const formData = new FormData(form);

      // ตัวอย่าง POST ไปยัง backend (ต้องมี API จริง)
      const response = await fetch('/api/remove_text_from_video', {
        method: 'POST',
        body: formData
      });

      if (response.ok) {
        const blob = await response.blob();
        const url = URL.createObjectURL(blob);
        preview.innerHTML = `
          <h3>วิดีโอที่ลบข้อความแล้ว</h3>
          <video src="${url}" controls style="max-width:100%"></video>
          <br><a href="${url}" download="video_no_text.mp4">ดาวน์โหลดวิดีโอ</a>
        `;
      } else {
        preview.innerHTML = 'เกิดข้อผิดพลาดในการประมวลผลวิดีโอ';
      }
    };
  </script>
</body>
</html>
